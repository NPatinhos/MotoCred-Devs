@tailwind base;
@tailwind components;
@tailwind utilities;

/* ===========================
   COMPONENTE: barra de etapas
   =========================== */
@layer components {
  /* base visual da bolinha/aba de etapa */
  .step-tab {
    @apply inline-flex items-center justify-center rounded-full
           select-none transition-all duration-200 ease-in-out;
  }

  /* etapa FUTURA (cinza, pequena, sem clique) */
  .step-tab.is-future {
    @apply w-[70px] h-[10px] bg-gray-300
           cursor-default pointer-events-none
           rounded-full text-white px-0;
  }

  /* etapa COMPLETA (preta, pequena, clicável) */
  .step-tab.is-complete {
    @apply w-[70px] h-[10px] bg-black
           cursor-pointer pointer-events-auto
           rounded-full text-white px-0;
  }

  /* etapa ATUAL (ativa agora): preta grande, mostra texto */
  .step-tab.is-active {
    @apply w-[90px] h-[50px] bg-black text-white
           rounded-3xl cursor-default pointer-events-none
           px-4;
  }

  /* texto VISÍVEL só na etapa ativa */
  .step-tab.is-active span {
    @apply inline font-medium text-sm leading-[1.1] whitespace-nowrap;
  }

  /* texto ESCONDIDO nas outras */
  .step-tab:not(.is-active) span {
    @apply hidden;
  }

  /* 🚨 importante: esconder steps inativos */
  .is-hidden-step {
    @apply hidden;
  }

  /* ⚠️ REMOVIDO:
     NÃO defina .is-active global aqui.
     NÃO force display:block na etapa ativa.
     deixar sem isso garante que a section mantenha o flex original.
  */
}


/* ===========================
   RANGE SLIDER
   =========================== */

/* tira aparência nativa do range */
input.range {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  background: transparent;
  cursor: pointer;
}
input.range:focus {
  outline: none;
}

/* trilho (chrome/safari/edge) */
input.range::-webkit-slider-runnable-track {
  height: 7px;
  border-radius: 9999px;
  background: linear-gradient(
    to right,
    #000 var(--pct, 0%),
    #D1D5DB var(--pct, 0%)
  );
}

/* thumb (chrome/safari/edge) */
input.range::-webkit-slider-thumb {
  -webkit-appearance: none;
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: white;
  border: 2px solid #000;
  margin-top: -6px;
  box-shadow: 0 1px 3px rgba(0,0,0,0.25);
}

/* trilho (firefox) */
input.range::-moz-range-track {
  height: 7px;
  border-radius: 9999px;
  background: #D1D5DB;
}

/* parte preenchida (firefox) */
input.range::-moz-range-progress {
  height: 7px;
  border-radius: 9999px;
  background: #000;
}

/* thumb (firefox) */
input.range::-moz-range-thumb {
  width: 18px;
  height: 18px;
  border-radius: 50%;
  background: white;
  border: 2px solid #000;
  box-shadow: 0 1px 3px rgba(0,0,0,0.25);
}

/* garante consistência específica nesses ids também */
#valor-moto.range,
#valor-entrada.range {
  -webkit-appearance: none;
  appearance: none;
}

/* animação do erro */
@keyframes aparecerErro {
  from { opacity: 0; transform: translateY(-4px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* espaçamento maior entre os blocos da etapa "Dados da Venda" */
#dados_venda .grid > :nth-child(2) {
  margin-top: 1.5rem !important; /* ~24px */
}
